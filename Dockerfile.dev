# Development Dockerfile for UI8Kit
# This container has all dependencies for development

FROM oven/bun:1.1.30-alpine

# Install system dependencies
RUN apk add --no-cache git curl

# Create non-root user for security
RUN addgroup -g 1001 -S devuser && \
    adduser -S devuser -u 1001 -G devuser

# Set working directory
WORKDIR /app

# Copy package files first (for better caching)
COPY package.json bun.lock* ./
COPY apps/web/package.json ./apps/web/

# Install dependencies
RUN bun install

# Copy source code
COPY . .

# Change ownership to non-root user
RUN chown -R devuser:devuser /app

USER devuser

# Expose Vite dev server port
EXPOSE 5173

# Default command - start dev server
CMD ["bun", "run", "dev:web"]

